package com.greenhouse.sim;

import com.greenhouse.base.Message;
import com.greenhouse.base.MessageImpl;
import com.greenhouse.controller.ContextCommunicationController;

public class ContextEnvioInfoTemperatura {

	private ContextCommunicationController forwarderInformacionTemp;

    public ContextEnvioInfoTemperatura(ContextCommunicationController forwarderInformacionTempParam){
        forwarderInformacionTemp=forwarderInformacionTempParam;
    }

    public Message obtenerLecturaLocal() {
       
    	Message dto = new MessageImpl(null,null,Termometro.tomaTemperatura(),new Date().getTime(),0);
        return dto;
    }

    void enviarInformacion(Message dto, int frecRefrescoInfo) {

    	Message mensajeDto = new MessageImpl(null,null,dto.getTemperatura(),dto.getTimestamp(),frecRefrescoInfo);   
        forwarderInformacionTemp.enviarMensaje(mensajeDto);
    }

}
