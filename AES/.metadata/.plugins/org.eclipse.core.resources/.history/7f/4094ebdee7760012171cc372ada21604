package com.greenhouse.gui;

import java.util.Date;
import java.util.List;

import javax.swing.table.AbstractTableModel;
import javax.swing.table.TableModel;

import com.greenhouse.base.Message;

public class TablasHelper {

	public static TableModel constructorTablaTemperatura(final String[] titulos,final String[][] registros) {
        
        TableModel model = new AbstractTableModel() {

			private static final long serialVersionUID = 1L;

			public int getColumnCount() {
                return titulos.length;
            }

            public int getRowCount() {
                return registros.length;
            }

            public Object getValueAt(int row, int col) {
                return registros[row][col];
            }

            @Override
            public String getColumnName(int column) {
                return titulos[column];
            }

            @Override
            public boolean isCellEditable(int row, int col) {
                return false;
            }

            public void setValueAt(String aValue, int row, int column) {
                registros[row][column] = aValue;
            }
        };

        return model;
    }

     public static TableModel construirDatosTablaTemperatura(List<Message> listaTemperaturas){

        String[] titulos = new String[3];
        String[][] registros = new String[listaTemperaturas.size()][4];

        titulos[0] = "Terminal";
        titulos[1] = "Temperatura";
        titulos[2] = "Fecha Lectura";


        for(int i=0;i<listaTemperaturas.size();i++){

        	Message mensajeDto=listaTemperaturas.get(i);

            registros[i][0]= mensajeDto.getAlias();
            registros[i][1]= new Double(mensajeDto.getTemperature()).toString();
            registros[i][2]= new Date(mensajeDto.getTimestamp()).toString();
        }

        return constructorTablaTemperatura(titulos, registros);
    }

}
