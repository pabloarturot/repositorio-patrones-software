package com.greenhouse.sim;

import java.util.Date;

import com.greenhouse.base.Message;
import com.greenhouse.base.MessageImpl;
import com.greenhouse.controller.ContextCommunicationController;

public class LocalTemperatureInformer {

	private ContextCommunicationController contextCommunication;

    public LocalTemperatureInformer(ContextCommunicationController contextCommunication){
        contextCommunication=contextCommunication;
    }

    public Message obtenerLecturaLocal() {
       
    	Message dto = new MessageImpl(null,null,Thermometer.getTemperature(),new Date().getTime(),0);
        return dto;
    }

    void enviarInformacion(Message dto, int frecRefrescoInfo) {

    	Message mensajeDto = new MessageImpl(null,null,dto.getTemperature(),dto.getTimestamp(),frecRefrescoInfo);   
        contextCommunication.sendMessage(mensajeDto);
    }

}
